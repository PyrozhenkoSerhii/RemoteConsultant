{"version":3,"sources":["../../server/models/Product.js"],"names":["ProductSchema","Schema","title","type","String","trim","required","messages","minlength","min","restrictions","maxlength","max","company","Types","ObjectId","ref","category","lowercase","price","Number","quantity","image","default","images","product","match","regex","url","description","specification","Object","minimize","plugin","timestamps","module","exports","mongoose","model"],"mappings":"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","sourcesContent":["import mongoose, { Schema } from 'mongoose'\r\nimport timestamps from 'mongoose-timestamp'\r\n\r\nimport { images } from '../utils/validation/defaults'\r\nimport { title, price, quantity, url, description } from '../utils/validation/range'\r\nimport messages from '../utils/validation/messages'\r\nimport regex from '../utils/validation/regex'\r\n\r\n\r\nconst ProductSchema = new Schema({\r\n    title: {\r\n        type: String,\r\n        trim: true,\r\n        required: [true, messages.required.title],\r\n        minlength: [title.min, messages.restrictions.title],\r\n        maxlength: [title.max, messages.restrictions.title]\r\n    },\r\n    company: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'Company',\r\n        required: [true, messages.required.company]\r\n    },\r\n    category: {\r\n        type: String,\r\n        lowercase: true,\r\n        trim: true,\r\n        required: [true, messages.required.category]\r\n    },\r\n    price: {\r\n        type: Number,\r\n        required: [true, messages.required.price],\r\n        min: [price.min, messages.restrictions.price],\r\n        max: [price.max, messages.restrictions.price]\r\n    },\r\n    quantity: {\r\n        type: Number,\r\n        required: [true, messages.required.quantity],\r\n        min: [quantity.min, messages.restrictions.quantity],\r\n        max: [quantity.max, messages.restrictions.quantity]\r\n    },\r\n    image: {\r\n        type: String,\r\n        default: images.product,\r\n        match: [regex.url, messages.match.url],\r\n        minlength: [url.min, messages.restrictions.url],\r\n        maxlength: [url.max, messages.restrictions.url]\r\n    },\r\n    description: {\r\n        type: String,\r\n        minlength: [description.min, messages.restrictions.description],\r\n        maxlength: [description.max, messages.restrictions.description]\r\n    },\r\n    specification: {\r\n        type: Object,\r\n        default: {}\r\n    }\r\n}, { minimize: false })\r\n\r\nProductSchema.plugin(timestamps)\r\n\r\n\r\nmodule.exports = mongoose.model('Product', ProductSchema)"],"file":"Product.js"}