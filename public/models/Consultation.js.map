{"version":3,"sources":["../../server/models/Consultation.js"],"names":["ConsultationSchema","Schema","customer","type","Types","ObjectId","ref","required","messages","consultant","index","product","alternative","minlength","title","min","restrictions","maxlength","max","Message","survey","Survey","plugin","timestamps","module","exports","mongoose","model"],"mappings":";;AAAA;;AACA;;AAEA;;AACA;;AAEA;;AACA;;;;;;AAGA,IAAMA,kBAAkB,GAAG,IAAIC,gBAAJ,CAAW;AAClCC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,IAAI,EAAEF,iBAAOG,KAAP,CAAaC,QADb;AAENC,IAAAA,GAAG,EAAE,UAFC;AAGNC,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAOC,kBAASD,QAAT,CAAkBL,QAAzB;AAHJ,GADwB;AAMlCO,EAAAA,UAAU,EAAE;AACRN,IAAAA,IAAI,EAAEF,iBAAOG,KAAP,CAAaC,QADX;AAERC,IAAAA,GAAG,EAAE,YAFG;AAGRC,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAOC,kBAASD,QAAT,CAAkBE,UAAzB,CAHF;AAIRC,IAAAA,KAAK,EAAE;AAJC,GANsB;AAYlCC,EAAAA,OAAO,EAAE;AACLR,IAAAA,IAAI,EAAEF,iBAAOG,KAAP,CAAaC,QADd;AAELC,IAAAA,GAAG,EAAE,SAFA;AAGLC,IAAAA,QAAQ,EAAE,CAAC,IAAD,EAAOC,kBAASD,QAAT,CAAkBI,OAAzB;AAHL,GAZyB;AAiBlCC,EAAAA,WAAW,EAAE;AAAE;AACXT,IAAAA,IAAI,EAAEF,iBAAOG,KAAP,CAAaC,QADV;AAETC,IAAAA,GAAG,EAAE,SAFI;AAGTO,IAAAA,SAAS,EAAE,CAACC,aAAMC,GAAP,EAAYP,kBAASQ,YAAT,CAAsBF,KAAlC,CAHF;AAITG,IAAAA,SAAS,EAAE,CAACH,aAAMI,GAAP,EAAYV,kBAASQ,YAAT,CAAsBF,KAAlC;AAJF,GAjBqB;AAuBlCN,EAAAA,QAAQ,EAAE,CAACW,gBAAD,CAvBwB;AAwBlCC,EAAAA,MAAM,EAAEC;AAxB0B,CAAX,CAA3B;AA2BArB,kBAAkB,CAACsB,MAAnB,CAA0BC,0BAA1B;AAIAC,MAAM,CAACC,OAAP,GAAiBC,kBAASC,KAAT,CAAe,cAAf,EAA+B3B,kBAA/B,CAAjB","sourcesContent":["import mongoose, { Schema } from 'mongoose'\r\nimport timestamps from 'mongoose-timestamp'\r\n\r\nimport messages from '../utils/validation/messages'\r\nimport { title } from '../utils/validation/range'\r\n\r\nimport { Message } from './submodels/Message'\r\nimport { Survey } from './submodels/Survey'\r\n\r\n\r\nconst ConsultationSchema = new Schema({\r\n    customer: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'Customer',\r\n        required: [true, messages.required.customer]\r\n    },\r\n    consultant: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'Consultant',\r\n        required: [true, messages.required.consultant],\r\n        index: true\r\n    },\r\n    product: {\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'Product',\r\n        required: [true, messages.required.product]\r\n    },\r\n    alternative: { /* _id of an alternative product */\r\n        type: Schema.Types.ObjectId,\r\n        ref: 'Product',\r\n        minlength: [title.min, messages.restrictions.title],\r\n        maxlength: [title.max, messages.restrictions.title]\r\n    },\r\n    messages: [Message],\r\n    survey: Survey\r\n})\r\n\r\nConsultationSchema.plugin(timestamps)\r\n\r\n\r\n\r\nmodule.exports = mongoose.model('Consultation', ConsultationSchema)"],"file":"Consultation.js"}